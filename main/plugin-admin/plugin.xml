<?xml version="1.0" encoding="UTF-8"?>
<!--
   Copyright 2015 Anyware Services

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
   -->
<plugin xmlns="http://www.ametys.org/schema/plugin"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.ametys.org/schema/plugin http://www.ametys.org/schema/plugin-2.0.xsd"
        runtimeVersion="2.0" version="2.0">
        
    <extension-points>
        <extension-point id="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"
                         class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"/>
        
    </extension-points>
    
    <!-- +
         |  WELCOME ANNOUNCEMENTS
         + --> 
    <feature name="runtime.admin.system">
        <components>
            <component role="org.ametys.runtime.plugins.admin.system.SystemHelper"
                       class="org.ametys.runtime.plugins.admin.system.SystemHelper"/>
        </components>
        
        <extensions>
            <extension id="org.ametys.plugins.admin.SystemTab"
                       point="org.ametys.core.ui.RibbonTabsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.tab.TabController">
                    <tool-role>^(uitool-admin-system)$</tool-role>
                </class>
            </extension>
            
            <extension id="org.ametys.plugins.admin.System"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.runtime.plugins.admin.system.SystemAnnouncementClientSideElement">
                <!-- 
                    This interaction allows the administrator to handle the system welcoming message
                 -->
                 <class name="Ametys.plugins.admin.system.SystemAnnouncementController">
                    <opentool-role>uitool-admin-system</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_SYSTEM_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_SYSTEM_DESCRIPTION</description>
                    
                    <announcement-on-description i18n="true">PLUGINS_ADMIN_SYSTEM_DESCRIPTION_ON</announcement-on-description>
                    <announcement-off-description i18n="true">PLUGINS_ADMIN_SYSTEM_DESCRIPTION_OFF</announcement-off-description>
                    
                    <icon-small file="true">img/system/announcement_16.png</icon-small>
                    <icon-medium file="true">img/system/announcement_32.png</icon-medium>
                    <icon-large file="true">img/system/announcement_48.png</icon-large>

                    <announcement-on-icon-small file="true">img/system/announcement_on_16.png</announcement-on-icon-small>
                    <announcement-on-icon-medium file="true">img/system/announcement_on_32.png</announcement-on-icon-medium>
                    <announcement-on-icon-large file="true">img/system/announcement_on_48.png</announcement-on-icon-large>
                    
                    <announcement-off-icon-small file="true">img/system/announcement_off_16.png</announcement-off-icon-small>
                    <announcement-off-icon-medium file="true">img/system/announcement_off_32.png</announcement-off-icon-medium>
                    <announcement-off-icon-large file="true">img/system/announcement_off_48.png</announcement-off-icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/system/SystemTool.js</file>
                    <file>js/Ametys/plugins/admin/system/SystemAnnouncementController.js</file>
                </scripts>
            </extension> 
            
            <extension id="org.ametys.plugins.admin.system.SystemFactory"
                       point="org.ametys.core.ui.UIToolsFactoriesManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-system</role>
                    <toolClass>Ametys.plugins.admin.tool.SystemTool</toolClass>
                    
                    <title i18n="true">PLUGINS_ADMIN_SYSTEM_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_SYSTEM_DESCRIPTION</description>
                    
                    <icon-small file="true">img/system/announcement_16.png</icon-small>
                    <icon-medium file="true">img/system/announcement_32.png</icon-medium>
                    <icon-large file="true">img/system/announcement_48.png</icon-large>
                    
                    <default-location>cl</default-location>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/system/SystemTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.system.Add"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.system.SystemActions.addMessage</action>
                
                    <label i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_ADD_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_ADD_DESC</description>

                    <icon-small file="true">img/system/add_announcement_16.png</icon-small>
                    <icon-medium file="true">img/system/add_announcement_32.png</icon-medium>
                    <icon-large file="true">img/system/add_announcement_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/system/SystemActions.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.system.Edit"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.system.SystemActions.editMessage</action>
                
                    <selection-target-type>^system-announcement-message</selection-target-type>
                
                    <label i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_EDIT_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_EDIT_DESC</description>

                    <icon-small file="true">img/system/edit_announcement_16.png</icon-small>
                    <icon-medium file="true">img/system/edit_announcement_32.png</icon-medium>
                    <icon-large file="true">img/system/edit_announcement_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/system/SystemActions.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.system.Delete"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.system.SystemActions.deleteMessage</action>
                
                    <selection-target-type>^system-announcement-message$</selection-target-type>
                    <selection-target-parameter>
                        <name>^language$</name>
                        <value>!\*</value>
                    </selection-target-parameter> 
                
                    <label i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_DELETE_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_DELETE_DESC</description>

                    <icon-small file="true">img/system/delete_announcement_16.png</icon-small>
                    <icon-medium file="true">img/system/delete_announcement_32.png</icon-medium>
                    <icon-large file="true">img/system/delete_announcement_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/system/SystemActions.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.system.SetAnnouncement"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.runtime.plugins.admin.system.SystemAnnouncementClientSideElement">
                <class name="Ametys.plugins.admin.system.SystemAnnouncementController">
                    <!--initialize>Ametys.plugins.admin.actions.SystemActions.initializeToggleState</initialize-->
                    <action>Ametys.plugins.admin.system.SystemActions.setAnnouncementAvailable</action>

                    <toggle-enabled>true</toggle-enabled>
                
                    <label i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_SET_ANNOUNCEMENT_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_SET_ANNOUNCEMENT_DESC</description>
                    
                    <announcement-on-description i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_SET_ANNOUNCEMENT_OFF_DESC</announcement-on-description>
                    <announcement-off-description i18n="true">PLUGINS_ADMIN_SYSTEM_ANNOUNCEMENT_SET_ANNOUNCEMENT_ON_DESC</announcement-off-description>
                    
                    <icon-small file="true">img/system/activate_16.png</icon-small>
                    <icon-medium file="true">img/system/activate_32.png</icon-medium>
                    <icon-large file="true">img/system/activate_48.png</icon-large>
                    
                    <announcement-on-icon-small file="true">img/system/deactivate_16.png</announcement-on-icon-small>
                    <announcement-on-icon-medium file="true">img/system/deactivate_32.png</announcement-on-icon-medium>
                    <announcement-on-icon-large file="true">img/system/deactivate_48.png</announcement-on-icon-large>
                    
                    <announcement-off-icon-small file="true">img/system/activate_16.png</announcement-off-icon-small>
                    <announcement-off-icon-medium file="true">img/system/activate_32.png</announcement-off-icon-medium>
                    <announcement-off-icon-large file="true">img/system/activate_48.png</announcement-off-icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/system/SystemActions.js</file>
                    <file>js/Ametys/plugins/admin/system/SystemAnnouncementController.js</file>
                </scripts>
            </extension>
        </extensions>
    </feature>
    
    <!-- +
         |  PLUGINS AND WORKSPACES
         + --> 
    <feature name="runtime.admin.plugins">
        <extensions>
                      
            <extension id="org.ametys.plugins.admin.PluginsByFileTab"
                       point="org.ametys.core.ui.RibbonTabsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.tab.TabController">
                    <tool-role>^(uitool-admin-pluginsbyfile)$</tool-role>
                </class>
            </extension>
            
            <extension id="org.ametys.plugins.admin.PluginsByExtensionPointTab"
                       point="org.ametys.core.ui.RibbonTabsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.tab.TabController">
                    <tool-role>^(uitool-admin-pluginsbyextensionpoint)$</tool-role>
                </class>
            </extension>
            
            <!-- Tools -->
            <extension id="org.ametys.plugins.admin.PluginsByFile"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This interaction allows the administrator to see plugins by file. Useful for developers.
                 -->
                <class name="Ametys.ribbon.element.ui.button.OpenToolButtonController">
                    <opentool-role>uitool-admin-pluginsbyfile</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_TOOL_PLUGINSBYFILE_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_PLUGINSBYFILE_DESC</description>
                    
                    <icon-small file="true">img/plugins/plugins_16.png</icon-small>
                    <icon-medium file="true">img/plugins/plugins_32.png</icon-medium>
                    <icon-large file="true">img/plugins/plugins_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.PluginsByFileFactory"  
                       point="org.ametys.core.ui.UIToolsFactoriesManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-pluginsbyfile</role>
                    <toolClass>Ametys.plugins.admin.plugins.PluginsTool</toolClass>
                    
                    <proxyUrl>plugins-by-file</proxyUrl>
                    
                    <title i18n="true">PLUGINS_ADMIN_TOOL_PLUGINSBYFILE_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_PLUGINSBYFILE_DESC</description>
                    
                    <icon-small file="true">img/plugins/plugins_16.png</icon-small>
                    <icon-medium file="true">img/plugins/plugins_32.png</icon-medium>
                    <icon-large file="true">img/plugins/plugins_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsTool.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsDAO.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsActions.js</file>
                </scripts>
                <css>
                    <file>css/plugins.css</file>
                </css>
                <default-location>cl</default-location>
            </extension>
            
            <extension id="org.ametys.plugins.admin.PluginsByExtensionPoint"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This interaction allows the administrator to see plugins by file. Useful for developers.
                 -->
                <class name="Ametys.ribbon.element.ui.button.OpenToolButtonController">
                    <opentool-role>uitool-admin-pluginsbyextensionpoint</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_TOOL_PLUGINSBYEXTENSIONPOINT_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_PLUGINSBYEXTENSIONPOINT_DESC</description>
                    
                    <icon-small file="true">img/plugins/plugins_ep_16.png</icon-small>
                    <icon-medium file="true">img/plugins/plugins_ep_32.png</icon-medium>
                    <icon-large file="true">img/plugins/plugins_ep_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsTool/Plugin.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.PluginsByExtensionPointFactory"  
                       point="org.ametys.core.ui.UIToolsFactoriesManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-pluginsbyextensionpoint</role>
                    <toolClass>Ametys.plugins.admin.plugins.PluginsTool</toolClass>
                        
                    <proxyUrl>plugins-by-extension-point</proxyUrl>
                        
                    <title i18n="true">PLUGINS_ADMIN_TOOL_PLUGINSBYEXTENSIONPOINT_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_PLUGINSBYEXTENSIONPOINT_DESC</description>
                    
                    <icon-small file="true">img/plugins/plugins_ep_16.png</icon-small>
                    <icon-medium file="true">img/plugins/plugins_ep_32.png</icon-medium>
                    <icon-large file="true">img/plugins/plugins_ep_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsTool.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsDAO.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsActions.js</file>
                </scripts>
                <css>
                    <file>css/plugins.css</file>
                </css>
                <default-location>cl</default-location>
            </extension>
            
            <extension id="org.ametys.plugins.admin.Workspaces"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This interaction allows the administrator to see workspaces. Useful for developers.
                 -->
                <class name="Ametys.ribbon.element.ui.button.OpenToolButtonController">
                    <opentool-role>uitool-admin-workspaces</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_TOOL_WORKSPACES_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_WORKSPACES_DESC</description>
                    
                    <icon-small file="true">img/plugins/workspaces_16.png</icon-small>
                    <icon-medium file="true">img/plugins/workspaces_32.png</icon-medium>
                    <icon-large file="true">img/plugins/workspaces_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/WorkspacesTool/Workspace.js</file>
                    <file>js/Ametys/plugins/admin/plugins/WorkspacesTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.WorkspacesFactory"  
                       point="org.ametys.core.ui.UIToolsFactoriesManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This interaction allows the administrator to see plugins by file. Useful for developers.
                 -->
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-workspaces</role>
                    <toolClass>Ametys.plugins.admin.tool.WorkspacesTool</toolClass>
                    
                    <title i18n="true">PLUGINS_ADMIN_TOOL_WORKSPACES_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_WORKSPACES_DESC</description>
                    
                    <icon-small file="true">img/plugins/workspaces_16.png</icon-small>
                    <icon-medium file="true">img/plugins/workspaces_32.png</icon-medium>
                    <icon-large file="true">img/plugins/workspaces_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/WorkspacesTool.js</file>
                    <file>js/Ametys/plugins/admin/plugins/WorkspacesTool/Workspace.js</file>
                </scripts>
                <default-location>cl</default-location>
            </extension>
            
            <extension id="org.ametys.plugins.admin.plugins.Documentation"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.plugins.PluginsActions.showDocumentation</action>
                    <selection-target-type>^(plugin-by-file-node|plugin-by-extension-point-node)$</selection-target-type>
                
                    <label i18n="true">PLUGINS_ADMIN_PLUGINS_DOCUMENTATION_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_PLUGINS_DOCUMENTATION_DESC</description>

                    <icon-small file="true">img/plugins/documentation_16.png</icon-small>
                    <icon-medium file="true">img/plugins/documentation_32.png</icon-medium>
                    <icon-large file="true">img/plugins/documentation_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsDAO.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsActions.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.plugins.Activate"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.plugins.PluginsActions.activate</action>
                    
                    <selection-target-type>^(plugin-by-file-node|plugin-by-extension-point-node)$</selection-target-type>
                    <selection-target-parameter>
                        <name>^inactiveFeature$</name>
                        <value>true</value>
                    </selection-target-parameter>                    
                
                    <label i18n="true">PLUGINS_ADMIN_PLUGINS_ACTIVATE_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_PLUGINS_ACTIVATE_DESC</description>

                    <icon-small file="true">img/plugins/activate_16.png</icon-small>
                    <icon-medium file="true">img/plugins/activate_32.png</icon-medium>
                    <icon-large file="true">img/plugins/activate_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsDAO.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsActions.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.plugins.Deactivate"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.plugins.PluginsActions.deactivate</action>
                    
                    <selection-target-type>^(plugin-by-file-node|plugin-by-extension-point-node)$</selection-target-type>
                    <selection-target-parameter>
                        <name>^activeFeature$</name>
                        <value>true</value>
                    </selection-target-parameter>                    
                
                    <label i18n="true">PLUGINS_ADMIN_PLUGINS_DEACTIVATE_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_PLUGINS_DEACTIVATE_DESC</description>

                    <icon-small file="true">img/plugins/deactivate_16.png</icon-small>
                    <icon-medium file="true">img/plugins/deactivate_32.png</icon-medium>
                    <icon-large file="true">img/plugins/deactivate_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsDAO.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsActions.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.plugins.Select"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.plugins.PluginsActions.select</action>
                    
                    <selection-target-type>^(plugin-by-file-node|plugin-by-extension-point-node)$</selection-target-type>
                    <selection-target-parameter>
                        <name>selectable</name>
                        <value>true</value>
                    </selection-target-parameter>                    
                
                    <label i18n="true">PLUGINS_ADMIN_PLUGINS_SELECT_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_PLUGINS_SELECT_DESC</description>

                    <icon-small file="true">img/plugins/select_16.png</icon-small>
                    <icon-medium file="true">img/plugins/select_32.png</icon-medium>
                    <icon-large file="true">img/plugins/select_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsDAO.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsActions.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.plugins.SaveChanges"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.plugins.admin.plugins.SaveChangesController">
                    <action>Ametys.plugins.admin.plugins.PluginsActions.saveChanges</action>
                    
                    <disabled>true</disabled>
                    
                    <label i18n="true">PLUGINS_ADMIN_PLUGINS_SAVE_CHANGES_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_PLUGINS_SAVE_CHANGES_DESC</description>

                    <icon-small file="true">img/plugins/save_16.png</icon-small>
                    <icon-medium file="true">img/plugins/save_32.png</icon-medium>
                    <icon-large file="true">img/plugins/save_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsDAO.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsActions.js</file>
                    <file>js/Ametys/plugins/admin/plugins/SaveChangesController.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.plugins.CancelChanges"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.plugins.admin.plugins.SaveChangesController">
                    <action>Ametys.plugins.admin.plugins.PluginsActions.cancelChanges</action>
                    
                    <disabled>true</disabled>
                    
                    <label i18n="true">PLUGINS_ADMIN_PLUGINS_CANCEL_CHANGES_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_PLUGINS_CANCEL_CHANGES_DESC</description>

                    <icon-small file="true">img/plugins/unsave_16.png</icon-small>
                    <icon-medium file="true">img/plugins/unsave_32.png</icon-medium>
                    <icon-large file="true">img/plugins/unsave_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/plugins/PluginsDAO.js</file>
                    <file>js/Ametys/plugins/admin/plugins/PluginsActions.js</file>
                    <file>js/Ametys/plugins/admin/plugins/SaveChangesController.js</file>
                </scripts>
            </extension>
        </extensions>
    </feature>
    
    <!-- +
         |  LOGS
         + -->   
    <feature name="runtime.admin.logs">
        <extensions>
                
            <extension id="org.ametys.plugins.admin.LogsTab"
                       point="org.ametys.core.ui.RibbonTabsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.tab.TabController">
                    <tool-role>^(uitool-admin-logs)$</tool-role>
                </class>
            </extension>
            
            <extension id="org.ametys.plugins.admin.LogsLevelTab"
                       point="org.ametys.core.ui.RibbonTabsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.tab.TabController">
                    <tool-role>^(uitool-admin-logslevel)$</tool-role>
                </class>
            </extension>
            
            <extension id="org.ametys.plugins.admin.Logs"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This button opens the logs' visualization tool
                 -->
                <class name="Ametys.ribbon.element.ui.button.OpenToolButtonController">
                    <opentool-role>uitool-admin-logs</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_TOOL_LOGS_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_LOGS_DESC</description>
                    
                    <icon-small file="true">img/logs/logs_16.png</icon-small>
                    <icon-medium file="true">img/logs/logs_32.png</icon-medium>
                    <icon-large file="true">img/logs/logs_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsTool/Log.js</file>
                    <file>js/Ametys/plugins/admin/logs/LogsTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.logs.LogsFactory"
                       point="org.ametys.core.ui.UIToolsFactoriesManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-logs</role>
                    <toolClass>Ametys.plugins.admin.logs.LogsTool</toolClass>
                    
                    <title i18n="true">PLUGINS_ADMIN_TOOL_LOGS_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_LOGS_DESC</description>
                    
                    <icon-small file="true">img/logs/logs_16.png</icon-small>
                    <icon-medium file="true">img/logs/logs_32.png</icon-medium>
                    <icon-large file="true">img/logs/logs_48.png</icon-large>
                    
                    <default-location>cl</default-location>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.LogsLevel"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This button opens the logs' configuration tool
                 -->
                <class name="Ametys.ribbon.element.ui.button.OpenToolButtonController">
                    <opentool-role>uitool-admin-logslevel</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_TOOL_LOGS_LEVEL_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_LOGS_LEVEL_DESC</description>
                    
                    <icon-small file="true">img/logs/loglevel_16.png</icon-small>
                    <icon-medium file="true">img/logs/loglevel_32.png</icon-medium>
                    <icon-large file="true">img/logs/loglevel_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsLevelTool/Category.js</file>
                    <file>js/Ametys/plugins/admin/logs/LogsLevelTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.logs.LogsLevelFactory"
                       point="org.ametys.core.ui.UIToolsFactoriesManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-logslevel</role>
                    <toolClass>Ametys.plugins.admin.logs.LogsLevelTool</toolClass>
                    
                    <title i18n="true">PLUGINS_ADMIN_TOOL_LOGS_LEVEL_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_LOGS_LEVEL_DESC</description>
                    
                    <icon-small file="true">img/logs/loglevel_16.png</icon-small>
                    <icon-medium file="true">img/logs/loglevel_32.png</icon-medium>
                    <icon-large file="true">img/logs/loglevel_48.png</icon-large>
                    
                    <default-location>cl</default-location>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsLevelTool.js</file>
                </scripts>
            </extension> 
            
            <extension id="org.ametys.plugins.admin.logs.View"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.logs.LogsActions.view</action>
                    <selection-target-type>^logfile$</selection-target-type>
                    <selection-enable-multiselection>false</selection-enable-multiselection>

                    <label i18n="true">PLUGINS_ADMIN_LOGS_VIEW_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_VIEW_DESC</description>

                    <icon-small file="true">img/logs/view_16.png</icon-small>
                    <icon-medium file="true">img/logs/view_32.png</icon-medium>
                    <icon-large file="true">img/logs/view_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                </scripts>
            </extension>  
            
            <extension id="org.ametys.plugins.admin.logs.Download"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.logs.LogsActions.download</action>
                    <selection-target-type>^logfile$</selection-target-type>

                    <label i18n="true">PLUGINS_ADMIN_LOGS_DOWNLOAD_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_DOWNLOAD_DESC</description>

                    <icon-small file="true">img/logs/download_16.png</icon-small>
                    <icon-medium file="true">img/logs/download_32.png</icon-medium>
                    <icon-large file="true">img/logs/download_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                </scripts>
            </extension>                        
            
            <extension id="org.ametys.plugins.admin.logs.Delete"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.runtime.plugins.admin.logs.LogsClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.logs.LogsActions.deleteFile</action>
                    <selection-target-type>^logfile$</selection-target-type>
                    
                    <label i18n="true">PLUGINS_ADMIN_LOGS_DELETE_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_DELETE_DESC</description>

                    <icon-small file="true">img/logs/delete_16.png</icon-small>
                    <icon-medium file="true">img/logs/delete_32.png</icon-medium>
                    <icon-large file="true">img/logs/delete_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                </scripts>
            </extension>                        
                                    
            <extension id="org.ametys.plugins.admin.logs.Purge"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.runtime.plugins.admin.logs.LogsClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.logs.LogsActions.purge</action>
                
                    <label i18n="true">PLUGINS_ADMIN_LOGS_PURGE_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_PURGE_DESC</description>

                    <icon-small file="true">img/logs/clean_16.png</icon-small>
                    <icon-medium file="true">img/logs/clean_32.png</icon-medium>
                    <icon-large file="true">img/logs/clean_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.logslevel.Debug"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.runtime.plugins.admin.logs.LogsClientSideElement">
                <class name="Ametys.plugins.admin.logs.LogLevelController">
                    <action>Ametys.plugins.admin.logs.LogsActions.changeLogLevel</action>
                    <selection-target-type>^(log-category)$</selection-target-type>
                    <selection-enable-multiselection>false</selection-enable-multiselection>
                    
                    <level>DEBUG</level>
                                        
                    <label i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_DEBUG_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_DEBUG_DESC</description>

                    <icon-small file="true">img/logs/level_debug_16.png</icon-small>
                    <icon-medium file="true">img/logs/level_debug_32.png</icon-medium>
                    <icon-large file="true">img/logs/level_debug_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                    <file>js/Ametys/plugins/admin/logs/LogLevelController.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.logslevel.Info"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.runtime.plugins.admin.logs.LogsClientSideElement">
                <class name="Ametys.plugins.admin.logs.LogLevelController">
                    <action>Ametys.plugins.admin.logs.LogsActions.changeLogLevel</action>
                    <selection-target-type>^(log-category)$</selection-target-type>
                    <selection-enable-multiselection>false</selection-enable-multiselection>
                    
                    <level>INFO</level>
                
                    <label i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_INFO_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_INFO_DESC</description>

                    <icon-small file="true">img/logs/level_info_16.png</icon-small>
                    <icon-medium file="true">img/logs/level_info_32.png</icon-medium>
                    <icon-large file="true">img/logs/level_info_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                    <file>js/Ametys/plugins/admin/logs/LogLevelController.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.logslevel.Warn"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.runtime.plugins.admin.logs.LogsClientSideElement">
                <class name="Ametys.plugins.admin.logs.LogLevelController">
                    <action>Ametys.plugins.admin.logs.LogsActions.changeLogLevel</action>
                    <selection-target-type>^(log-category)$</selection-target-type>
                    <selection-enable-multiselection>false</selection-enable-multiselection>
                    
                    <level>WARN</level>
                    
                    <label i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_WARN_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_WARN_DESC</description>

                    <icon-small file="true">img/logs/level_warn_16.png</icon-small>
                    <icon-medium file="true">img/logs/level_warn_32.png</icon-medium>
                    <icon-large file="true">img/logs/level_warn_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                    <file>js/Ametys/plugins/admin/logs/LogLevelController.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.logslevel.Error"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.runtime.plugins.admin.logs.LogsClientSideElement">
                <class name="Ametys.plugins.admin.logs.LogLevelController">
                    <action>Ametys.plugins.admin.logs.LogsActions.changeLogLevel</action>
                    <selection-target-type>^(log-category)$</selection-target-type>
                    <selection-enable-multiselection>false</selection-enable-multiselection>
                    
                    <level>ERROR</level>
                
                    <label i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_ERROR_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_ERROR_DESC</description>

                    <icon-small file="true">img/logs/level_error_16.png</icon-small>
                    <icon-medium file="true">img/logs/level_error_32.png</icon-medium>
                    <icon-large file="true">img/logs/level_error_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                    <file>js/Ametys/plugins/admin/logs/LogLevelController.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.logslevel.Inherit"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.runtime.plugins.admin.logs.LogsClientSideElement">
                <class name="Ametys.plugins.admin.logs.LogLevelController">
                    <action>Ametys.plugins.admin.logs.LogsActions.changeLogLevel</action>
                    <selection-target-type>^(log-category)$</selection-target-type>
                    <selection-enable-multiselection>false</selection-enable-multiselection>
                    
                    <level>INHERIT</level>
                
                    <label i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_INHERIT_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_INHERIT_DESC</description>

                    <icon-small file="true">img/logs/inherit_16.png</icon-small>
                    <icon-medium file="true">img/logs/inherit_32.png</icon-medium>
                    <icon-large file="true">img/logs/inherit_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                    <file>js/Ametys/plugins/admin/logs/LogLevelController.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.logslevel.Force"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.runtime.plugins.admin.logs.LogsClientSideElement">
                <class name="Ametys.plugins.admin.logs.LogLevelController">
                    <action>Ametys.plugins.admin.logs.LogsActions.changeLogLevel</action>
                    <selection-target-type>^(log-category)$</selection-target-type>
                    <selection-enable-multiselection>false</selection-enable-multiselection>
                    
                    <level>FORCE</level>
                
                    <label i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_FORCE_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_LOGS_LEVEL_FORCE_DESC</description>

                    <icon-small file="true">img/logs/force_16.png</icon-small>
                    <icon-medium file="true">img/logs/force_32.png</icon-medium>
                    <icon-large file="true">img/logs/force_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/logs/LogsActions.js</file>
                    <file>js/Ametys/plugins/admin/logs/LogLevelController.js</file>
                </scripts>
            </extension>
        </extensions>
    </feature>
    
    <!-- +
         |  JVM STATUS
         + -->   
    <feature name="runtime.admin.jvmstatus">
        <components>
            <component role="org.ametys.runtime.plugins.admin.jvmstatus.JVMStatusHelper"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.JVMStatusHelper"/>
        </components>
        
        <extensions>
            <extension id="org.ametys.plugins.admin.JVMStatus"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This button opens the JVM status tool
                 -->
                <class name="Ametys.ribbon.element.ui.button.OpenToolButtonController">
                    <opentool-role>uitool-admin-jvmstatus</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_TOOL_JVMSTATUS_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_JVMSTATUS_DESC</description>
                    
                    <icon-small file="true">img/jvmstatus/jvmstatus_16.png</icon-small>
                    <icon-medium file="true">img/jvmstatus/jvmstatus_32.png</icon-medium>
                    <icon-large file="true">img/jvmstatus/jvmstatus_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/jvmstatus/JVMStatusTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.JVMStatusFactory"
                       point="org.ametys.core.ui.UIToolsFactoriesManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-jvmstatus</role>
                    <toolClass>Ametys.plugins.admin.jvmstatus.JVMStatusTool</toolClass>
                    
                    <title i18n="true">PLUGINS_ADMIN_TOOL_JVMSTATUS_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_JVMSTATUS_DESC</description>
                    
                    <icon-small file="true">img/jvmstatus/jvmstatus_16.png</icon-small>
                    <icon-medium file="true">img/jvmstatus/jvmstatus_32.png</icon-medium>
                    <icon-large file="true">img/jvmstatus/jvmstatus_48.png</icon-large>
                    
                    <default-location>cl</default-location>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/jvmstatus/JVMStatusTool.js</file>
                </scripts>
                <css>
                    <file>css/jvmstatus.css</file>
                </css>
            </extension>
            
            <extension id="org.ametys.plugins.admin.SystemProperties"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This button opens the system properties tool
                 -->
                <class name="Ametys.ribbon.element.ui.button.OpenToolButtonController">
                    <opentool-role>uitool-admin-systemproperties</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_TOOL_SYSTEMPROPERTIES_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_SYSTEMPROPERTIES_DESC</description>
                    
                    <icon-small file="true">img/jvmstatus/properties_16.png</icon-small>
                    <icon-medium file="true">img/jvmstatus/properties_32.png</icon-medium>
                    <icon-large file="true">img/jvmstatus/properties_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/jvmstatus/SystemPropertiesTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.SystemPropertiesFactory"
                       point="org.ametys.core.ui.UIToolsFactoriesManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-systemproperties</role>
                    <toolClass>Ametys.plugins.admin.jvmstatus.SystemPropertiesTool</toolClass>
                    
                    <title i18n="true">PLUGINS_ADMIN_TOOL_SYSTEMPROPERTIES_FACTORY_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_SYSTEMPROPERTIES_DESC</description>
                    
                    <icon-small file="true">img/jvmstatus/properties_16.png</icon-small>
                    <icon-medium file="true">img/jvmstatus/properties_32.png</icon-medium>
                    <icon-large file="true">img/jvmstatus/properties_48.png</icon-large>
                    
                    <default-location>cl</default-location>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/jvmstatus/SystemPropertiesTool.js</file>
                </scripts>
                <css>
                    <file>css/jvmstatus.css</file>
                </css>
            </extension>
            
            <extension id="org.ametys.plugins.admin.Monitoring"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This button opens the monitoring tool
                 -->
                <class name="Ametys.ribbon.element.ui.button.OpenToolButtonController">
                    <opentool-role>uitool-admin-monitoring</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_TOOL_MONITORING_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_MONITORING_DESC</description>
                    
                    <icon-small file="true">img/jvmstatus/monitoring_16.png</icon-small>
                    <icon-medium file="true">img/jvmstatus/monitoring_32.png</icon-medium>
                    <icon-large file="true">img/jvmstatus/monitoring_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/jvmstatus/MonitoringTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.MonitoringFactory"
                       point="org.ametys.core.ui.UIToolsFactoriesManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-monitoring</role>
                    <toolClass>Ametys.plugins.admin.jvmstatus.MonitoringTool</toolClass>
                    
                    <title i18n="true">PLUGINS_ADMIN_TOOL_MONITORING_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_TOOL_MONITORING_DESC</description>
                    
                    <icon-small file="true">img/jvmstatus/monitoring_16.png</icon-small>
                    <icon-medium file="true">img/jvmstatus/monitoring_32.png</icon-medium>
                    <icon-large file="true">img/jvmstatus/monitoring_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/jvmstatus/MonitoringTool.js</file>
                </scripts>
                <css>
                    <file>css/jvmstatus.css</file>
                </css>
            </extension>
        </extensions>
    </feature>
    
    <!-- +
         |  ADMIN CONFIGURATION
         + -->
    <feature name="runtime.admin.config">
        
        <extensions>
            <extension id="org.ametys.plugins.admin.config.Tab"
                       point="org.ametys.core.ui.RibbonTabsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.tab.TabController">
                    <tool-role>^(uitool-admin-config)$</tool-role>
                </class>
            </extension>
        
            <extension id="org.ametys.plugins.admin.config.Open"  
                       point="org.ametys.core.ui.RibbonControlsManager" 
                       class="org.ametys.core.ui.StaticClientSideElement">
                <!-- 
                    This button opens the configuration tool 
                 -->
                <class name="Ametys.ribbon.element.ui.button.OpenToolButtonController">
                    <opentool-role>uitool-admin-config</opentool-role>
                    
                    <label i18n="true">PLUGINS_ADMIN_CONFIG_LABEL</label>
                    <description i18n="true">PLUGINS_ADMIN_CONFIG_DESCRIPTION</description>
                    
                    <icon-small file="true">img/config/config_16.png</icon-small>
                    <icon-medium file="true">img/config/config_32.png</icon-medium>
                    <icon-large file="true">img/config/config_48.png</icon-large>
                </class>
            </extension>
            
            <extension id="org.ametys.plugins.admin.config.ConfigToolFactory"
                       point="org.ametys.core.ui.UIToolsFactoriesManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.tool.factory.UniqueToolFactory">
                    <role>uitool-admin-config</role>
                    <toolClass>Ametys.plugins.admin.config.ConfigTool</toolClass>
                    
                    <title i18n="true">PLUGINS_ADMIN_CONFIG_LABEL</title>
                    <description i18n="true">PLUGINS_ADMIN_CONFIG_DESCRIPTION</description>
                    
                    <icon-small file="true">img/config/config_16.png</icon-small>
                    <icon-medium file="true">img/config/config_32.png</icon-medium>
                    <icon-large file="true">img/config/config_48.png</icon-large>
                    
                    <default-location>cl</default-location>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/config/ConfigTool.js</file>
                </scripts>
            </extension>
            
            <extension id="org.ametys.plugins.admin.config.Save"
                       point="org.ametys.core.ui.RibbonControlsManager"
                       class="org.ametys.core.ui.StaticClientSideElement">
                <class name="Ametys.ribbon.element.ui.ButtonController">
                    <action>Ametys.plugins.admin.config.SaveConfigAction.save</action>
                    <tool-role>uitool-admin-config</tool-role>
                    <selection-target-type>^configuration$</selection-target-type>

                    <label i18n="true">PLUGINS_ADMIN_CONFIG_HANDLE_SAVE</label>
                    <description i18n="true">PLUGINS_ADMIN_CONFIG_HANDLE_SAVE_DESC</description>
                    
                    <icon-small file="true">img/config/save_16.png</icon-small>
                    <icon-medium file="true">img/config/save_32.png</icon-medium>
                    <icon-large file="true">img/config/save_48.png</icon-large>
                </class>
                <scripts>
                    <file>js/Ametys/plugins/admin/config/SaveConfigAction.js</file>
                </scripts>
            </extension>
        </extensions>
    </feature>

    <!-- +
         |  Monitoring
         + -->
    <feature name="runtime.monitoring">
        <!-- 
            Timer task for populating RRDs
         -->
        <components>
            <component role="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.RRDsFeederTimerTask"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.RRDsFeederTimerTask"
                       logger="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.RRDsFeederTimerTask"/>
        </components>
        
        <extensions>
            <!-- Monitor the uptime of the JVM -->
            <extension point="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"
                       id="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.UptimeSampleManager"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.UptimeSampleManager"
                       logger="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.UptimeSampleManager">
                <id>uptime</id>
                <label i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_UPTIME_LABEL</label>
                <description i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_UPTIME_DESCRIPTION</description>
            </extension>
            <!-- Monitor the throughput and the number of active HTTP requests -->
            <extension point="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"
                       id="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.HttpRequestSampleManager"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.HttpRequestSampleManager"
                       logger="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.HttpRequestSampleManager">
                <id>http-request</id>
                <label i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_HTTPREQUEST_LABEL</label>
                <description i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_HTTPREQUEST_DESCRIPTION</description>
            </extension>
            <!-- Monitor the number of active HTTP sessions -->
            <extension point="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"
                       id="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.HttpSessionSampleManager"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.HttpSessionSampleManager"
                       logger="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.HttpSessionSampleManager">
                <id>http-session</id>
                <label i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_HTTPSESSION_LABEL</label>
                <description i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_HTTPSESSION_DESCRIPTION</description>
            </extension>
            <!-- Monitor the number of live threads (total and daemon) -->
            <extension point="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"
                       id="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.ThreadSampleManager"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.ThreadSampleManager"
                       logger="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.ThreadSampleManager">
                <id>thread</id>
                <label i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_THREAD_LABEL</label>
                <description i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_THREAD_DESCRIPTION</description>
            </extension>
            <!-- Monitor the JVM heap memory status -->
            <extension point="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"
                       id="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.HeapMemorySampleManager"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.HeapMemorySampleManager"
                       logger="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.HeapMemorySampleManager">
                <id>memory-heap</id>
                <label i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_MEMORYHEAP_LABEL</label>
                <description i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_MEMORYHEAP_DESCRIPTION</description>
            </extension>
            <!-- Monitor the JVM non heap memory status -->
            <extension point="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"
                       id="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.NonHeapMemorySampleManager"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.NonHeapMemorySampleManager"
                       logger="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.NonHeapMemorySampleManager">
                <id>memory-non-heap</id>
                <label i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_MEMORYNONHEAP_LABEL</label>
                <description i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_MEMORYNONHEAP_DESCRIPTION</description>
            </extension>
            <!-- Monitor the JVM non heap memory status -->
            <extension point="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"
                       id="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.CPUSampleManager"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.CPUSampleManager"
                       logger="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.CPUSampleManager">
                <id>cpu</id>
                <label i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_CPU_LABEL</label>
                <description i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_CPU_DESCRIPTION</description>
            </extension>
            <!-- Monitor the disk I/O operations -->
            <extension point="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.MonitoringExtensionPoint"
                       id="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.DiskIOSampleManager"
                       class="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.DiskIOSampleManager"
                       logger="org.ametys.runtime.plugins.admin.jvmstatus.monitoring.sample.DiskIOSampleManager">
                <id>disk-io</id>
                <label i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_DISKIO_LABEL</label>
                <description i18n="true">PLUGINS_ADMIN_STATUS_MONITORING_DISKIO_DESCRIPTION</description>
            </extension>
        </extensions>
    </feature>
</plugin>