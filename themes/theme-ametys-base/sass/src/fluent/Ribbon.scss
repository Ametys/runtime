/*
 *  Copyright 2015 Anyware Services
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

/**
 * Ribbon header
 */
@include extjs-panel-ui(
    $ui: 'ribbon',
    
    $ui-header-background-color: transparent,
    $ui-header-color: $ametys-ribbon-header-color,
    $ui-header-font-size: $ametys-ribbon-header-font-size,
    $ui-header-font-weight: $ametys-ribbon-header-font-weight,
    $ui-header-line-height: $ametys-ribbon-header-height - 2*$ametys-ribbon-header-border-height,
    $ui-header-padding: 0 right($panel-header-padding) 0 left($panel-header-padding),
    $ui-header-text-padding: $ametys-ribbon-header-border-height 0, 
    $ui-header-border-width: 0,
    
    $ui-body-background-color: transparent
);
.a-fluent-header-title-extension
{
    color: $ametys-ribbon-header-highlight-color;
}
.#{$prefix}panel-ribbon
{
    background-color: $ametys-ribbon-header-background-color;
    background-image: theme-background-image('fluent/ribbon-bg');
    background-position: top right;
    background-repeat: no-repeat;
}

/**
 * Quickbar
 */
@include extjs-toolbar-ui(
    $ui: 'ribbon-header-toolbar',
    
    $background-color: transparent,
    $border-width: 0,
    $vertical-spacing: 0,
    $horizontal-spacing: 0    
);

/**
 * Buttons
 */
@include extjs-button-small-ui(
    $ui: 'ribbon-header-button',
    
    $border-width: 0,
    
    $body-outline-color-focus: $ametys-ribbon-header-button-outline-color,
    $inner-border-color-focus: $ametys-ribbon-header-button-outline-color,
    
    $font-size: $ametys-ribbon-header-button-font-size,
    $font-size-over: $ametys-ribbon-header-button-font-size,
    $font-size-focus: $ametys-ribbon-header-button-font-size,
    $font-size-pressed: $ametys-ribbon-header-button-font-size,
    
    $line-height: $ametys-ribbon-header-button-height - top($ametys-ribbon-header-button-padding) - bottom($ametys-ribbon-header-button-padding),
    $padding: $ametys-ribbon-header-button-padding,
    
    $font-weight: $ametys-ribbon-header-button-font-weight,
    $font-weight-over: $ametys-ribbon-header-button-font-weight,
    $font-weight-focus: $ametys-ribbon-header-button-font-weight,
    $font-weight-pressed: $ametys-ribbon-header-button-font-weight,
    $font-weight-focus-over: $ametys-ribbon-header-button-font-weight,
    $font-weight-focus-pressed: $ametys-ribbon-header-button-font-weight,
    $font-weight-disabled: $ametys-ribbon-header-button-font-weight,
            
    $color: $ametys-ribbon-header-button-color,
    $background-color: $ametys-ribbon-header-button-background-color,
    
    $color-over: $ametys-ribbon-header-button-color-over,
    $background-color-over: $ametys-ribbon-header-button-background-color-over,
    
    $color-pressed: $ametys-ribbon-header-button-color-pressed,
    $background-color-pressed: $ametys-ribbon-header-button-background-color-pressed,
    
    $color-focus: $ametys-ribbon-header-button-color-focus,
    $background-color-focus: $ametys-ribbon-header-button-background-color-focus
);

/**
 * Text fields
 */
@include extjs-text-field-ui(
    $ui: 'ribbon-header-text',
    
    $ui-padding: $ametys-ribbon-header-textfield-padding,
    $ui-height: $ametys-ribbon-header-height - 2*$ametys-ribbon-header-border-height,
    $ui-font-size: $ametys-ribbon-header-textfield-font-size,
    $ui-body-width: $ametys-ribbon-header-textfield-width,
    $ui-color: $ametys-ribbon-header-textfield-color,
    $ui-empty-color: $ametys-ribbon-header-textfield-placeholder-color,
    
    $ui-background-color: $ametys-ribbon-header-textfield-background-color,
    
    $ui-border-color: $ametys-ribbon-header-textfield-border-color,
    $ui-focus-border-color: $ametys-ribbon-header-textfield-outline-color
);

.#{$prefix}form-text-wrap-ribbon-header-text {
    @include placeholder {
        color: $ametys-ribbon-header-textfield-placeholder-color;
    }
    
    .#{$prefix}field-focus & {
        @include placeholder {
            color: $ametys-ribbon-header-textfield-placeholder-color-focus;
        }
    }
}
.#{$prefix}field-focus .#{$prefix}form-text-ribbon-header-text {
    background-color: $ametys-ribbon-header-textfield-background-color-focus;
}

/**
 * Tools
 */
.#{$prefix}panel-header-ribbon {
    .#{$prefix}tool-img {
        @if $enable-font-icons == false {
            background-image: theme-background-image($ametys-ribbon-tool-background-image);
        }
        @else {
            color: $ametys-ribbon-tool-glyph-color;
            
            &.#{$prefix}tool-help:before {
                content: $ametys-ribbon-tool-help-glyph;
            }        }
    }
    .#{$prefix}tool-focus {
        outline-color: $ametys-ribbon-header-button-outline-color;
    }
}

/**
 * Info message
 */
.#{$prefix}container-ribbon-message {
    color: $ametys-ribbon-message-color;
    background-color: $ametys-ribbon-message-background-color;
    font-size: $ametys-ribbon-message-font-size;
    line-height: $ametys-ribbon-message-font-size * 2;
    font-weight: $ametys-ribbon-message-font-weight;
    
    border-bottom: $ametys-ribbon-message-border-width solid $ametys-ribbon-message-border-color !important; 
    padding: 0 right($panel-header-padding) 0 left($panel-header-padding);
    
    &:first-child {
        border-top: $ametys-ribbon-message-border-width solid $ametys-ribbon-message-border-color !important; 
    }
    
    .#{$prefix}tool-img {
        @if $enable-font-icons == false { 
            background-image: theme-background-image($ametys-ribbon-message-tool-background-image);
        }
        @else {
            color: $ametys-ribbon-message-tool-glyph-color;
            
            &.#{$prefix}tool-close:before {
                content: $ametys-ribbon-message-close-glyph;
            }
        }
    }
    
    @mixin message-type($type, $image, $glyph, $color) {
        &.a-message-type-#{$type} {
            padding-left: left($panel-header-padding) * 2 + $ametys-ribbon-message-image-small-size;
            
            @if $enable-font-icons == false { 
                background-repeat: no-repeat;
                background-position: $ametys-ribbon-message-font-size center;
                background-image: theme-background-image($image);
            }
            @else {
                position: relative;
                
                &:before {
                    font: ($ametys-ribbon-message-font-size * 1.333)/1 FontAwesome;
                    color: $color;
                    content: $glyph;
                    position: absolute;
                    top: 50%;
                    margin-top: -($ametys-ribbon-message-font-size * 0.667); 
                    left: $ametys-ribbon-message-font-size;
                }
            }
        }
    }
    @include message-type('info', $ametys-ribbon-message-image-small-info, $ametys-ribbon-message-glyph-info, $ametys-ribbon-message-glyph-color-info) {};
    @include message-type('question', $ametys-ribbon-message-image-small-question, $ametys-ribbon-message-glyph-question, $ametys-ribbon-message-glyph-color-question) {};
    @include message-type('warning', $ametys-ribbon-message-image-small-warning, $ametys-ribbon-message-glyph-warning, $ametys-ribbon-message-glyph-color-warning) {};
    @include message-type('error', $ametys-ribbon-message-image-small-error, $ametys-ribbon-message-glyph-error, $ametys-ribbon-message-glyph-color-error) {};
};
.#{$prefix}component-ribbon-message-title {
    font-size: $ametys-ribbon-message-title-font-size;
    font-weight: $ametys-ribbon-message-title-font-weight;
    text-transform: $ametys-ribbon-message-title-text-transform;
    padding-right: $ametys-ribbon-message-title-font-size * 4;
}
 
/**
 * Contextual tab groups
 */
.#{$prefix}component-ribbon-header-contextualgroup {
    font-size: $ametys-ribbon-contextualgroup-font-size;
    line-height: $ametys-ribbon-header-height - $ametys-ribbon-header-border-height; 
    font-weight: $ametys-ribbon-contextualgroup-font-weight;
    text-transform: $ametys-ribbon-contextualgroup-text-transform;
    text-align: center;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    
    @for $i from 1 through length($ametys-ribbon-contextualgroup-colors) {
        $current-color: nth($ametys-ribbon-contextualgroup-colors, $i);
        
        &.a-fluent-header-tabsgroup-#{$i} {
            border-top: $ametys-ribbon-header-border-height solid $current-color;
            color: nth($ametys-ribbon-contextualgroup-colors-dark, $i);
            background-color: nth($ametys-ribbon-contextualgroup-colors-light, $i);
        }
    }    
}
 