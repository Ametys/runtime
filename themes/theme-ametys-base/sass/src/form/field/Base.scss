/*
 *  Copyright 2015 Anyware Services
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */

%ametys-enhancer {
	width: 20px; 
	min-height: $form-field-height; 
	display: table-cell;
	
	background-repeat: no-repeat; 
	background-position: center round(($form-field-height/2 - $ametys-form-field-description-background-image-height/2));
}

.ametys-description {
    @extend %ametys-enhancer;
    
    background-image: theme-background-image($ametys-form-field-description-background-image); 
}

.ametys-comments {
    @extend %ametys-enhancer;
    
	background-image: theme-background-image($ametys-form-field-comment-background-image); 
	
    &.ametys-comments-empty {
    	background-image: theme-background-image($ametys-form-field-nocomment-background-image); 
    }
}

.ametys-warning {
	width: $ametys-form-field-warning-background-image-width + horizontal($form-warning-icon-side-margin); 
	min-height: $form-field-height; 
	background-image: theme-background-image($ametys-form-field-warning-background-image); 
	background-repeat: no-repeat; 
	background-position: center round(($form-field-height/2 - $ametys-form-field-warning-background-image-height/2));
    display: table-cell;
}
.#{$prefix}form-error-wrap-side {
    vertical-align: top;
    
    .#{$prefix}form-invalid-icon-default {
        margin-top: round(($form-field-height/2 - $ametys-form-field-warning-background-image-height/2));
    }
}

.a-form-readable-text {
	padding-top: round(($form-field-height - $font-size)/3);
	overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.#{$prefix}form-empty .a-form-readable-text {
	color: lighten($color, 35%);
}

.ametys-field-hint {
	color: lighten($color, 40%); 
	font-size: $font-size*0.9;
	font-style: italic;
} 

.a-form-abstract-field.x-form-warning .x-form-item-body,
.a-form-abstract-field-wrapper.x-form-warning .x-form-item-body {
    @include box-shadow($form-field-border-color-warn 0 -$form-field-border-width 0px 0, 
                        $form-field-border-color-warn 0 $form-field-border-width 0px 0, 
                        $form-field-border-color-warn $form-field-border-width 0 0px 0, 
                        $form-field-border-color-warn -$form-field-border-width 0 0px 0);
}

.a-form-abstract-field.x-form-invalid .x-form-item-body,
.a-form-abstract-field-wrapper.x-form-invalid.a-form-invalid-global .x-form-item-body {
    @include box-shadow($form-field-border-color-error 0 -$form-field-border-width 0px 0, 
                        $form-field-border-color-error 0 $form-field-border-width 0px 0, 
                        $form-field-border-color-error $form-field-border-width 0 0px 0, 
                        $form-field-border-color-error -$form-field-border-width 0 0px 0);    
}

.a-form-abstract-field .x-btn {
	margin-left: 3px;
}